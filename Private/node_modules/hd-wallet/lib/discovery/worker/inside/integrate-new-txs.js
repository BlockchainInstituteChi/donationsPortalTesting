'use strict';

var cov_265iwxlg08 = function () {
    var path = '/home/g/dev/hd-wallet/src/discovery/worker/inside/integrate-new-txs.js',
        hash = '85c6d5257ec7955630cb7097d76c85dd133dde43',
        Function = function () {}.constructor,
        global = new Function('return this')(),
        gcv = '__coverage__',
        coverageData = {
        path: '/home/g/dev/hd-wallet/src/discovery/worker/inside/integrate-new-txs.js',
        statementMap: {
            '0': {
                start: {
                    line: 45,
                    column: 29
                },
                end: {
                    line: 45,
                    column: 41
                }
            },
            '1': {
                start: {
                    line: 46,
                    column: 26
                },
                end: {
                    line: 46,
                    column: 86
                }
            },
            '2': {
                start: {
                    line: 46,
                    column: 55
                },
                end: {
                    line: 46,
                    column: 85
                }
            },
            '3': {
                start: {
                    line: 47,
                    column: 32
                },
                end: {
                    line: 47,
                    column: 83
                }
            },
            '4': {
                start: {
                    line: 47,
                    column: 66
                },
                end: {
                    line: 47,
                    column: 82
                }
            },
            '5': {
                start: {
                    line: 48,
                    column: 33
                },
                end: {
                    line: 48,
                    column: 85
                }
            },
            '6': {
                start: {
                    line: 48,
                    column: 67
                },
                end: {
                    line: 48,
                    column: 84
                }
            },
            '7': {
                start: {
                    line: 50,
                    column: 40
                },
                end: {
                    line: 50,
                    column: 42
                }
            },
            '8': {
                start: {
                    line: 51,
                    column: 4
                },
                end: {
                    line: 87,
                    column: 7
                }
            },
            '9': {
                start: {
                    line: 56,
                    column: 8
                },
                end: {
                    line: 86,
                    column: 11
                }
            },
            '10': {
                start: {
                    line: 57,
                    column: 35
                },
                end: {
                    line: 57,
                    column: 48
                }
            },
            '11': {
                start: {
                    line: 58,
                    column: 32
                },
                end: {
                    line: 58,
                    column: 48
                }
            },
            '12': {
                start: {
                    line: 59,
                    column: 12
                },
                end: {
                    line: 85,
                    column: 15
                }
            },
            '13': {
                start: {
                    line: 60,
                    column: 30
                },
                end: {
                    line: 60,
                    column: 46
                }
            },
            '14': {
                start: {
                    line: 61,
                    column: 16
                },
                end: {
                    line: 84,
                    column: 17
                }
            },
            '15': {
                start: {
                    line: 62,
                    column: 30
                },
                end: {
                    line: 62,
                    column: 64
                }
            },
            '16': {
                start: {
                    line: 63,
                    column: 20
                },
                end: {
                    line: 83,
                    column: 21
                }
            },
            '17': {
                start: {
                    line: 66,
                    column: 34
                },
                end: {
                    line: 66,
                    column: 39
                }
            },
            '18': {
                start: {
                    line: 67,
                    column: 24
                },
                end: {
                    line: 76,
                    column: 27
                }
            },
            '19': {
                start: {
                    line: 68,
                    column: 28
                },
                end: {
                    line: 75,
                    column: 31
                }
            },
            '20': {
                start: {
                    line: 69,
                    column: 32
                },
                end: {
                    line: 74,
                    column: 33
                }
            },
            '21': {
                start: {
                    line: 73,
                    column: 36
                },
                end: {
                    line: 73,
                    column: 47
                }
            },
            '22': {
                start: {
                    line: 77,
                    column: 24
                },
                end: {
                    line: 82,
                    column: 27
                }
            },
            '23': {
                start: {
                    line: 89,
                    column: 4
                },
                end: {
                    line: 93,
                    column: 6
                }
            },
            '24': {
                start: {
                    line: 102,
                    column: 28
                },
                end: {
                    line: 112,
                    column: 5
                }
            },
            '25': {
                start: {
                    line: 113,
                    column: 4
                },
                end: {
                    line: 113,
                    column: 17
                }
            },
            '26': {
                start: {
                    line: 124,
                    column: 26
                },
                end: {
                    line: 127,
                    column: 5
                }
            },
            '27': {
                start: {
                    line: 129,
                    column: 20
                },
                end: {
                    line: 131,
                    column: 26
                }
            },
            '28': {
                start: {
                    line: 133,
                    column: 19
                },
                end: {
                    line: 136,
                    column: 5
                }
            },
            '29': {
                start: {
                    line: 138,
                    column: 18
                },
                end: {
                    line: 143,
                    column: 5
                }
            },
            '30': {
                start: {
                    line: 145,
                    column: 25
                },
                end: {
                    line: 151,
                    column: 5
                }
            },
            '31': {
                start: {
                    line: 153,
                    column: 79
                },
                end: {
                    line: 159,
                    column: 5
                }
            },
            '32': {
                start: {
                    line: 161,
                    column: 23
                },
                end: {
                    line: 167,
                    column: 5
                }
            },
            '33': {
                start: {
                    line: 169,
                    column: 20
                },
                end: {
                    line: 169,
                    column: 73
                }
            },
            '34': {
                start: {
                    line: 170,
                    column: 32
                },
                end: {
                    line: 170,
                    column: 76
                }
            },
            '35': {
                start: {
                    line: 170,
                    column: 58
                },
                end: {
                    line: 170,
                    column: 72
                }
            },
            '36': {
                start: {
                    line: 171,
                    column: 4
                },
                end: {
                    line: 173,
                    column: 5
                }
            },
            '37': {
                start: {
                    line: 172,
                    column: 8
                },
                end: {
                    line: 172,
                    column: 46
                }
            },
            '38': {
                start: {
                    line: 175,
                    column: 26
                },
                end: {
                    line: 175,
                    column: 59
                }
            },
            '39': {
                start: {
                    line: 177,
                    column: 28
                },
                end: {
                    line: 177,
                    column: 55
                }
            },
            '40': {
                start: {
                    line: 178,
                    column: 24
                },
                end: {
                    line: 178,
                    column: 55
                }
            },
            '41': {
                start: {
                    line: 179,
                    column: 24
                },
                end: {
                    line: 179,
                    column: 61
                }
            },
            '42': {
                start: {
                    line: 180,
                    column: 32
                },
                end: {
                    line: 180,
                    column: 56
                }
            },
            '43': {
                start: {
                    line: 182,
                    column: 18
                },
                end: {
                    line: 196,
                    column: 5
                }
            },
            '44': {
                start: {
                    line: 197,
                    column: 4
                },
                end: {
                    line: 197,
                    column: 17
                }
            },
            '45': {
                start: {
                    line: 204,
                    column: 31
                },
                end: {
                    line: 204,
                    column: 33
                }
            },
            '46': {
                start: {
                    line: 206,
                    column: 4
                },
                end: {
                    line: 208,
                    column: 7
                }
            },
            '47': {
                start: {
                    line: 207,
                    column: 8
                },
                end: {
                    line: 207,
                    column: 24
                }
            },
            '48': {
                start: {
                    line: 209,
                    column: 4
                },
                end: {
                    line: 211,
                    column: 7
                }
            },
            '49': {
                start: {
                    line: 210,
                    column: 8
                },
                end: {
                    line: 210,
                    column: 24
                }
            },
            '50': {
                start: {
                    line: 213,
                    column: 4
                },
                end: {
                    line: 213,
                    column: 15
                }
            },
            '51': {
                start: {
                    line: 220,
                    column: 16
                },
                end: {
                    line: 220,
                    column: 18
                }
            },
            '52': {
                start: {
                    line: 222,
                    column: 4
                },
                end: {
                    line: 224,
                    column: 7
                }
            },
            '53': {
                start: {
                    line: 223,
                    column: 8
                },
                end: {
                    line: 223,
                    column: 27
                }
            },
            '54': {
                start: {
                    line: 225,
                    column: 4
                },
                end: {
                    line: 227,
                    column: 7
                }
            },
            '55': {
                start: {
                    line: 226,
                    column: 8
                },
                end: {
                    line: 226,
                    column: 29
                }
            },
            '56': {
                start: {
                    line: 229,
                    column: 4
                },
                end: {
                    line: 229,
                    column: 15
                }
            },
            '57': {
                start: {
                    line: 235,
                    column: 16
                },
                end: {
                    line: 235,
                    column: 18
                }
            },
            '58': {
                start: {
                    line: 236,
                    column: 4
                },
                end: {
                    line: 244,
                    column: 7
                }
            },
            '59': {
                start: {
                    line: 237,
                    column: 8
                },
                end: {
                    line: 243,
                    column: 9
                }
            },
            '60': {
                start: {
                    line: 238,
                    column: 12
                },
                end: {
                    line: 242,
                    column: 15
                }
            },
            '61': {
                start: {
                    line: 239,
                    column: 29
                },
                end: {
                    line: 239,
                    column: 35
                }
            },
            '62': {
                start: {
                    line: 240,
                    column: 28
                },
                end: {
                    line: 240,
                    column: 42
                }
            },
            '63': {
                start: {
                    line: 241,
                    column: 16
                },
                end: {
                    line: 241,
                    column: 35
                }
            },
            '64': {
                start: {
                    line: 245,
                    column: 4
                },
                end: {
                    line: 245,
                    column: 15
                }
            },
            '65': {
                start: {
                    line: 259,
                    column: 39
                },
                end: {
                    line: 259,
                    column: 41
                }
            },
            '66': {
                start: {
                    line: 260,
                    column: 19
                },
                end: {
                    line: 260,
                    column: 21
                }
            },
            '67': {
                start: {
                    line: 261,
                    column: 24
                },
                end: {
                    line: 261,
                    column: 26
                }
            },
            '68': {
                start: {
                    line: 263,
                    column: 4
                },
                end: {
                    line: 285,
                    column: 7
                }
            },
            '69': {
                start: {
                    line: 264,
                    column: 8
                },
                end: {
                    line: 284,
                    column: 11
                }
            },
            '70': {
                start: {
                    line: 265,
                    column: 28
                },
                end: {
                    line: 265,
                    column: 37
                }
            },
            '71': {
                start: {
                    line: 266,
                    column: 26
                },
                end: {
                    line: 266,
                    column: 33
                }
            },
            '72': {
                start: {
                    line: 267,
                    column: 25
                },
                end: {
                    line: 267,
                    column: 47
                }
            },
            '73': {
                start: {
                    line: 268,
                    column: 12
                },
                end: {
                    line: 283,
                    column: 13
                }
            },
            '74': {
                start: {
                    line: 269,
                    column: 27
                },
                end: {
                    line: 269,
                    column: 34
                }
            },
            '75': {
                start: {
                    line: 270,
                    column: 16
                },
                end: {
                    line: 274,
                    column: 17
                }
            },
            '76': {
                start: {
                    line: 271,
                    column: 20
                },
                end: {
                    line: 271,
                    column: 44
                }
            },
            '77': {
                start: {
                    line: 273,
                    column: 20
                },
                end: {
                    line: 273,
                    column: 45
                }
            },
            '78': {
                start: {
                    line: 275,
                    column: 16
                },
                end: {
                    line: 277,
                    column: 17
                }
            },
            '79': {
                start: {
                    line: 276,
                    column: 20
                },
                end: {
                    line: 276,
                    column: 34
                }
            },
            '80': {
                start: {
                    line: 278,
                    column: 16
                },
                end: {
                    line: 282,
                    column: 17
                }
            },
            '81': {
                start: {
                    line: 279,
                    column: 20
                },
                end: {
                    line: 281,
                    column: 21
                }
            },
            '82': {
                start: {
                    line: 280,
                    column: 24
                },
                end: {
                    line: 280,
                    column: 43
                }
            },
            '83': {
                start: {
                    line: 287,
                    column: 26
                },
                end: {
                    line: 287,
                    column: 28
                }
            },
            '84': {
                start: {
                    line: 288,
                    column: 4
                },
                end: {
                    line: 292,
                    column: 5
                }
            },
            '85': {
                start: {
                    line: 289,
                    column: 24
                },
                end: {
                    line: 289,
                    column: 39
                }
            },
            '86': {
                start: {
                    line: 290,
                    column: 25
                },
                end: {
                    line: 290,
                    column: 68
                }
            },
            '87': {
                start: {
                    line: 291,
                    column: 8
                },
                end: {
                    line: 291,
                    column: 48
                }
            },
            '88': {
                start: {
                    line: 293,
                    column: 28
                },
                end: {
                    line: 293,
                    column: 30
                }
            },
            '89': {
                start: {
                    line: 294,
                    column: 4
                },
                end: {
                    line: 296,
                    column: 5
                }
            },
            '90': {
                start: {
                    line: 295,
                    column: 8
                },
                end: {
                    line: 295,
                    column: 46
                }
            },
            '91': {
                start: {
                    line: 297,
                    column: 4
                },
                end: {
                    line: 297,
                    column: 59
                }
            }
        },
        fnMap: {
            '0': {
                name: 'deleteTxs',
                decl: {
                    start: {
                        line: 40,
                        column: 9
                    },
                    end: {
                        line: 40,
                        column: 18
                    }
                },
                loc: {
                    start: {
                        line: 44,
                        column: 15
                    },
                    end: {
                        line: 94,
                        column: 1
                    }
                },
                line: 44
            },
            '1': {
                name: '(anonymous_1)',
                decl: {
                    start: {
                        line: 46,
                        column: 47
                    },
                    end: {
                        line: 46,
                        column: 48
                    }
                },
                loc: {
                    start: {
                        line: 46,
                        column: 55
                    },
                    end: {
                        line: 46,
                        column: 85
                    }
                },
                line: 46
            },
            '2': {
                name: '(anonymous_2)',
                decl: {
                    start: {
                        line: 47,
                        column: 60
                    },
                    end: {
                        line: 47,
                        column: 61
                    }
                },
                loc: {
                    start: {
                        line: 47,
                        column: 66
                    },
                    end: {
                        line: 47,
                        column: 82
                    }
                },
                line: 47
            },
            '3': {
                name: '(anonymous_3)',
                decl: {
                    start: {
                        line: 48,
                        column: 61
                    },
                    end: {
                        line: 48,
                        column: 62
                    }
                },
                loc: {
                    start: {
                        line: 48,
                        column: 67
                    },
                    end: {
                        line: 48,
                        column: 84
                    }
                },
                line: 48
            },
            '4': {
                name: '(anonymous_4)',
                decl: {
                    start: {
                        line: 51,
                        column: 28
                    },
                    end: {
                        line: 51,
                        column: 29
                    }
                },
                loc: {
                    start: {
                        line: 51,
                        column: 43
                    },
                    end: {
                        line: 87,
                        column: 5
                    }
                },
                line: 51
            },
            '5': {
                name: '(anonymous_5)',
                decl: {
                    start: {
                        line: 56,
                        column: 35
                    },
                    end: {
                        line: 56,
                        column: 36
                    }
                },
                loc: {
                    start: {
                        line: 56,
                        column: 49
                    },
                    end: {
                        line: 86,
                        column: 9
                    }
                },
                line: 56
            },
            '6': {
                name: '(anonymous_6)',
                decl: {
                    start: {
                        line: 59,
                        column: 41
                    },
                    end: {
                        line: 59,
                        column: 42
                    }
                },
                loc: {
                    start: {
                        line: 59,
                        column: 56
                    },
                    end: {
                        line: 85,
                        column: 13
                    }
                },
                line: 59
            },
            '7': {
                name: '(anonymous_7)',
                decl: {
                    start: {
                        line: 67,
                        column: 53
                    },
                    end: {
                        line: 67,
                        column: 54
                    }
                },
                loc: {
                    start: {
                        line: 67,
                        column: 62
                    },
                    end: {
                        line: 76,
                        column: 25
                    }
                },
                line: 67
            },
            '8': {
                name: '(anonymous_8)',
                decl: {
                    start: {
                        line: 68,
                        column: 55
                    },
                    end: {
                        line: 68,
                        column: 56
                    }
                },
                loc: {
                    start: {
                        line: 68,
                        column: 61
                    },
                    end: {
                        line: 75,
                        column: 29
                    }
                },
                line: 68
            },
            '9': {
                name: 'utxoFromTarget',
                decl: {
                    start: {
                        line: 96,
                        column: 9
                    },
                    end: {
                        line: 96,
                        column: 23
                    }
                },
                loc: {
                    start: {
                        line: 101,
                        column: 12
                    },
                    end: {
                        line: 114,
                        column: 1
                    }
                },
                line: 101
            },
            '10': {
                name: 'integrateNewTxs',
                decl: {
                    start: {
                        line: 116,
                        column: 16
                    },
                    end: {
                        line: 116,
                        column: 31
                    }
                },
                loc: {
                    start: {
                        line: 123,
                        column: 15
                    },
                    end: {
                        line: 198,
                        column: 1
                    }
                },
                line: 123
            },
            '11': {
                name: '(anonymous_11)',
                decl: {
                    start: {
                        line: 170,
                        column: 45
                    },
                    end: {
                        line: 170,
                        column: 46
                    }
                },
                loc: {
                    start: {
                        line: 170,
                        column: 58
                    },
                    end: {
                        line: 170,
                        column: 72
                    }
                },
                line: 170
            },
            '12': {
                name: 'deriveAddressToPath',
                decl: {
                    start: {
                        line: 200,
                        column: 9
                    },
                    end: {
                        line: 200,
                        column: 28
                    }
                },
                loc: {
                    start: {
                        line: 203,
                        column: 17
                    },
                    end: {
                        line: 214,
                        column: 1
                    }
                },
                line: 203
            },
            '13': {
                name: '(anonymous_13)',
                decl: {
                    start: {
                        line: 206,
                        column: 17
                    },
                    end: {
                        line: 206,
                        column: 18
                    }
                },
                loc: {
                    start: {
                        line: 206,
                        column: 27
                    },
                    end: {
                        line: 208,
                        column: 5
                    }
                },
                line: 206
            },
            '14': {
                name: '(anonymous_14)',
                decl: {
                    start: {
                        line: 209,
                        column: 19
                    },
                    end: {
                        line: 209,
                        column: 20
                    }
                },
                loc: {
                    start: {
                        line: 209,
                        column: 29
                    },
                    end: {
                        line: 211,
                        column: 5
                    }
                },
                line: 209
            },
            '15': {
                name: 'deriveJoined',
                decl: {
                    start: {
                        line: 216,
                        column: 9
                    },
                    end: {
                        line: 216,
                        column: 21
                    }
                },
                loc: {
                    start: {
                        line: 219,
                        column: 24
                    },
                    end: {
                        line: 230,
                        column: 1
                    }
                },
                line: 219
            },
            '16': {
                name: '(anonymous_16)',
                decl: {
                    start: {
                        line: 222,
                        column: 30
                    },
                    end: {
                        line: 222,
                        column: 31
                    }
                },
                loc: {
                    start: {
                        line: 222,
                        column: 36
                    },
                    end: {
                        line: 224,
                        column: 5
                    }
                },
                line: 222
            },
            '17': {
                name: '(anonymous_17)',
                decl: {
                    start: {
                        line: 225,
                        column: 32
                    },
                    end: {
                        line: 225,
                        column: 33
                    }
                },
                loc: {
                    start: {
                        line: 225,
                        column: 38
                    },
                    end: {
                        line: 227,
                        column: 5
                    }
                },
                line: 225
            },
            '18': {
                name: 'deriveSentAddresses',
                decl: {
                    start: {
                        line: 232,
                        column: 9
                    },
                    end: {
                        line: 232,
                        column: 28
                    }
                },
                loc: {
                    start: {
                        line: 234,
                        column: 35
                    },
                    end: {
                        line: 246,
                        column: 1
                    }
                },
                line: 234
            },
            '19': {
                name: '(anonymous_19)',
                decl: {
                    start: {
                        line: 236,
                        column: 25
                    },
                    end: {
                        line: 236,
                        column: 26
                    }
                },
                loc: {
                    start: {
                        line: 236,
                        column: 30
                    },
                    end: {
                        line: 244,
                        column: 5
                    }
                },
                line: 236
            },
            '20': {
                name: '(anonymous_20)',
                decl: {
                    start: {
                        line: 238,
                        column: 30
                    },
                    end: {
                        line: 238,
                        column: 31
                    }
                },
                loc: {
                    start: {
                        line: 238,
                        column: 48
                    },
                    end: {
                        line: 242,
                        column: 13
                    }
                },
                line: 238
            },
            '21': {
                name: 'deriveUsedAddresses',
                decl: {
                    start: {
                        line: 248,
                        column: 9
                    },
                    end: {
                        line: 248,
                        column: 28
                    }
                },
                loc: {
                    start: {
                        line: 258,
                        column: 2
                    },
                    end: {
                        line: 298,
                        column: 1
                    }
                },
                line: 258
            },
            '22': {
                name: '(anonymous_22)',
                decl: {
                    start: {
                        line: 263,
                        column: 25
                    },
                    end: {
                        line: 263,
                        column: 26
                    }
                },
                loc: {
                    start: {
                        line: 263,
                        column: 30
                    },
                    end: {
                        line: 285,
                        column: 5
                    }
                },
                line: 263
            },
            '23': {
                name: '(anonymous_23)',
                decl: {
                    start: {
                        line: 264,
                        column: 42
                    },
                    end: {
                        line: 264,
                        column: 43
                    }
                },
                loc: {
                    start: {
                        line: 264,
                        column: 47
                    },
                    end: {
                        line: 284,
                        column: 9
                    }
                },
                line: 264
            }
        },
        branchMap: {
            '0': {
                loc: {
                    start: {
                        line: 61,
                        column: 16
                    },
                    end: {
                        line: 84,
                        column: 17
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 61,
                        column: 16
                    },
                    end: {
                        line: 84,
                        column: 17
                    }
                }, {
                    start: {
                        line: 61,
                        column: 16
                    },
                    end: {
                        line: 84,
                        column: 17
                    }
                }],
                line: 61
            },
            '1': {
                loc: {
                    start: {
                        line: 63,
                        column: 20
                    },
                    end: {
                        line: 83,
                        column: 21
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 63,
                        column: 20
                    },
                    end: {
                        line: 83,
                        column: 21
                    }
                }, {
                    start: {
                        line: 63,
                        column: 20
                    },
                    end: {
                        line: 83,
                        column: 21
                    }
                }],
                line: 63
            },
            '2': {
                loc: {
                    start: {
                        line: 69,
                        column: 32
                    },
                    end: {
                        line: 74,
                        column: 33
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 69,
                        column: 32
                    },
                    end: {
                        line: 74,
                        column: 33
                    }
                }, {
                    start: {
                        line: 69,
                        column: 32
                    },
                    end: {
                        line: 74,
                        column: 33
                    }
                }],
                line: 69
            },
            '3': {
                loc: {
                    start: {
                        line: 70,
                        column: 36
                    },
                    end: {
                        line: 71,
                        column: 69
                    }
                },
                type: 'binary-expr',
                locations: [{
                    start: {
                        line: 70,
                        column: 36
                    },
                    end: {
                        line: 70,
                        column: 56
                    }
                }, {
                    start: {
                        line: 71,
                        column: 36
                    },
                    end: {
                        line: 71,
                        column: 69
                    }
                }],
                line: 70
            },
            '4': {
                loc: {
                    start: {
                        line: 129,
                        column: 20
                    },
                    end: {
                        line: 131,
                        column: 26
                    }
                },
                type: 'cond-expr',
                locations: [{
                    start: {
                        line: 130,
                        column: 10
                    },
                    end: {
                        line: 130,
                        column: 64
                    }
                }, {
                    start: {
                        line: 131,
                        column: 10
                    },
                    end: {
                        line: 131,
                        column: 26
                    }
                }],
                line: 129
            },
            '5': {
                loc: {
                    start: {
                        line: 169,
                        column: 20
                    },
                    end: {
                        line: 169,
                        column: 73
                    }
                },
                type: 'cond-expr',
                locations: [{
                    start: {
                        line: 169,
                        column: 46
                    },
                    end: {
                        line: 169,
                        column: 69
                    }
                }, {
                    start: {
                        line: 169,
                        column: 72
                    },
                    end: {
                        line: 169,
                        column: 73
                    }
                }],
                line: 169
            },
            '6': {
                loc: {
                    start: {
                        line: 171,
                        column: 4
                    },
                    end: {
                        line: 173,
                        column: 5
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 171,
                        column: 4
                    },
                    end: {
                        line: 173,
                        column: 5
                    }
                }, {
                    start: {
                        line: 171,
                        column: 4
                    },
                    end: {
                        line: 173,
                        column: 5
                    }
                }],
                line: 171
            },
            '7': {
                loc: {
                    start: {
                        line: 237,
                        column: 8
                    },
                    end: {
                        line: 243,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 237,
                        column: 8
                    },
                    end: {
                        line: 243,
                        column: 9
                    }
                }, {
                    start: {
                        line: 237,
                        column: 8
                    },
                    end: {
                        line: 243,
                        column: 9
                    }
                }],
                line: 237
            },
            '8': {
                loc: {
                    start: {
                        line: 268,
                        column: 12
                    },
                    end: {
                        line: 283,
                        column: 13
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 268,
                        column: 12
                    },
                    end: {
                        line: 283,
                        column: 13
                    }
                }, {
                    start: {
                        line: 268,
                        column: 12
                    },
                    end: {
                        line: 283,
                        column: 13
                    }
                }],
                line: 268
            },
            '9': {
                loc: {
                    start: {
                        line: 270,
                        column: 16
                    },
                    end: {
                        line: 274,
                        column: 17
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 270,
                        column: 16
                    },
                    end: {
                        line: 274,
                        column: 17
                    }
                }, {
                    start: {
                        line: 270,
                        column: 16
                    },
                    end: {
                        line: 274,
                        column: 17
                    }
                }],
                line: 270
            },
            '10': {
                loc: {
                    start: {
                        line: 275,
                        column: 16
                    },
                    end: {
                        line: 277,
                        column: 17
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 275,
                        column: 16
                    },
                    end: {
                        line: 277,
                        column: 17
                    }
                }, {
                    start: {
                        line: 275,
                        column: 16
                    },
                    end: {
                        line: 277,
                        column: 17
                    }
                }],
                line: 275
            },
            '11': {
                loc: {
                    start: {
                        line: 278,
                        column: 16
                    },
                    end: {
                        line: 282,
                        column: 17
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 278,
                        column: 16
                    },
                    end: {
                        line: 282,
                        column: 17
                    }
                }, {
                    start: {
                        line: 278,
                        column: 16
                    },
                    end: {
                        line: 282,
                        column: 17
                    }
                }],
                line: 278
            },
            '12': {
                loc: {
                    start: {
                        line: 279,
                        column: 20
                    },
                    end: {
                        line: 281,
                        column: 21
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 279,
                        column: 20
                    },
                    end: {
                        line: 281,
                        column: 21
                    }
                }, {
                    start: {
                        line: 279,
                        column: 20
                    },
                    end: {
                        line: 281,
                        column: 21
                    }
                }],
                line: 279
            },
            '13': {
                loc: {
                    start: {
                        line: 290,
                        column: 25
                    },
                    end: {
                        line: 290,
                        column: 68
                    }
                },
                type: 'cond-expr',
                locations: [{
                    start: {
                        line: 290,
                        column: 50
                    },
                    end: {
                        line: 290,
                        column: 51
                    }
                }, {
                    start: {
                        line: 290,
                        column: 54
                    },
                    end: {
                        line: 290,
                        column: 68
                    }
                }],
                line: 290
            }
        },
        s: {
            '0': 0,
            '1': 0,
            '2': 0,
            '3': 0,
            '4': 0,
            '5': 0,
            '6': 0,
            '7': 0,
            '8': 0,
            '9': 0,
            '10': 0,
            '11': 0,
            '12': 0,
            '13': 0,
            '14': 0,
            '15': 0,
            '16': 0,
            '17': 0,
            '18': 0,
            '19': 0,
            '20': 0,
            '21': 0,
            '22': 0,
            '23': 0,
            '24': 0,
            '25': 0,
            '26': 0,
            '27': 0,
            '28': 0,
            '29': 0,
            '30': 0,
            '31': 0,
            '32': 0,
            '33': 0,
            '34': 0,
            '35': 0,
            '36': 0,
            '37': 0,
            '38': 0,
            '39': 0,
            '40': 0,
            '41': 0,
            '42': 0,
            '43': 0,
            '44': 0,
            '45': 0,
            '46': 0,
            '47': 0,
            '48': 0,
            '49': 0,
            '50': 0,
            '51': 0,
            '52': 0,
            '53': 0,
            '54': 0,
            '55': 0,
            '56': 0,
            '57': 0,
            '58': 0,
            '59': 0,
            '60': 0,
            '61': 0,
            '62': 0,
            '63': 0,
            '64': 0,
            '65': 0,
            '66': 0,
            '67': 0,
            '68': 0,
            '69': 0,
            '70': 0,
            '71': 0,
            '72': 0,
            '73': 0,
            '74': 0,
            '75': 0,
            '76': 0,
            '77': 0,
            '78': 0,
            '79': 0,
            '80': 0,
            '81': 0,
            '82': 0,
            '83': 0,
            '84': 0,
            '85': 0,
            '86': 0,
            '87': 0,
            '88': 0,
            '89': 0,
            '90': 0,
            '91': 0
        },
        f: {
            '0': 0,
            '1': 0,
            '2': 0,
            '3': 0,
            '4': 0,
            '5': 0,
            '6': 0,
            '7': 0,
            '8': 0,
            '9': 0,
            '10': 0,
            '11': 0,
            '12': 0,
            '13': 0,
            '14': 0,
            '15': 0,
            '16': 0,
            '17': 0,
            '18': 0,
            '19': 0,
            '20': 0,
            '21': 0,
            '22': 0,
            '23': 0
        },
        b: {
            '0': [0, 0],
            '1': [0, 0],
            '2': [0, 0],
            '3': [0, 0],
            '4': [0, 0],
            '5': [0, 0],
            '6': [0, 0],
            '7': [0, 0],
            '8': [0, 0],
            '9': [0, 0],
            '10': [0, 0],
            '11': [0, 0],
            '12': [0, 0],
            '13': [0, 0]
        },
        _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
    },
        coverage = global[gcv] || (global[gcv] = {});

    if (coverage[path] && coverage[path].hash === hash) {
        return coverage[path];
    }

    coverageData.hash = hash;
    return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.integrateNewTxs = integrateNewTxs;

var _deriveUtxos = require('./derive-utxos');

var _deriveAnalysis = require('./derive-analysis');

var _utils = require('../utils');

// When utxo transaction disappear, so does the utxo
// However, if it was transaction from us, it also means
// utxo has to be added (if it is a tx that came from us)
//
// If the utxo that needs to be added is in the new info
// - as is in the case when it is a chain of unconf txs -
// it will be readded again in derive-utxos
//
// However, if it is an old tx, it needs to be added here
// because derive-utxos does not go through old txs
function deleteTxs(oldInfo, txs, atp) {
    cov_265iwxlg08.f[0]++;

    var set = (cov_265iwxlg08.s[0]++, new Set(txs));
    var filteredUtxos = (cov_265iwxlg08.s[1]++, oldInfo.utxos.filter(function (utxo) {
        cov_265iwxlg08.f[1]++;
        cov_265iwxlg08.s[2]++;
        return !set.has(utxo.transactionHash);
    }));
    var deletedTransactions = (cov_265iwxlg08.s[3]++, oldInfo.transactions.filter(function (tx) {
        cov_265iwxlg08.f[2]++;
        cov_265iwxlg08.s[4]++;
        return set.has(tx.hash);
    }));
    var filteredTransactions = (cov_265iwxlg08.s[5]++, oldInfo.transactions.filter(function (tx) {
        cov_265iwxlg08.f[3]++;
        cov_265iwxlg08.s[6]++;
        return !set.has(tx.hash);
    }));

    var addedUtxos = (cov_265iwxlg08.s[7]++, []);
    cov_265iwxlg08.s[8]++;
    deletedTransactions.map(function (deletedTran) {
        cov_265iwxlg08.f[4]++;
        cov_265iwxlg08.s[9]++;

        // this is not efficient At ALL,
        // but it does not happen frequently
        // (usually not at all)
        // => no need to optimize here, just go naively
        deletedTran.inputs.forEach(function (deletedInp) {
            cov_265iwxlg08.f[5]++;

            var deletedInpHash = (cov_265iwxlg08.s[10]++, deletedInp.id);
            var deletedInpI = (cov_265iwxlg08.s[11]++, deletedInp.index);
            cov_265iwxlg08.s[12]++;
            filteredTransactions.forEach(function (transaction) {
                cov_265iwxlg08.f[6]++;

                var thash = (cov_265iwxlg08.s[13]++, transaction.hash);
                cov_265iwxlg08.s[14]++;
                if (thash === deletedInpHash) {
                    cov_265iwxlg08.b[0][0]++;

                    var o = (cov_265iwxlg08.s[15]++, transaction.myOutputs[deletedInpI]);
                    cov_265iwxlg08.s[16]++;
                    if (o != null) {
                        cov_265iwxlg08.b[1][0]++;

                        // ALSO needs to find, if any of the inputs
                        // are also mine
                        var own = (cov_265iwxlg08.s[17]++, false);
                        cov_265iwxlg08.s[18]++;
                        filteredTransactions.forEach(function (ptran) {
                            cov_265iwxlg08.f[7]++;
                            cov_265iwxlg08.s[19]++;

                            transaction.inputs.forEach(function (ip) {
                                cov_265iwxlg08.f[8]++;
                                cov_265iwxlg08.s[20]++;

                                if ((cov_265iwxlg08.b[3][0]++, ip.id === ptran.hash) && (cov_265iwxlg08.b[3][1]++, ptran.myOutputs[ip.index] != null)) {
                                    cov_265iwxlg08.b[2][0]++;
                                    cov_265iwxlg08.s[21]++;

                                    own = true;
                                } else {
                                    cov_265iwxlg08.b[2][1]++;
                                }
                            });
                        });
                        cov_265iwxlg08.s[22]++;
                        addedUtxos.push(utxoFromTarget(o, transaction, atp, own));
                    } else {
                        cov_265iwxlg08.b[1][1]++;
                    }
                } else {
                    cov_265iwxlg08.b[0][1]++;
                }
            });
        });
    });

    cov_265iwxlg08.s[23]++;
    return _extends({}, oldInfo, {
        utxos: filteredUtxos.concat(addedUtxos),
        transactions: filteredTransactions
    });
}

function utxoFromTarget(t, tx, atp, own) {
    cov_265iwxlg08.f[9]++;

    var resIx = (cov_265iwxlg08.s[24]++, {
        index: t.i,
        value: t.value,
        transactionHash: tx.hash,
        height: tx.height,
        coinbase: tx.isCoinbase,
        addressPath: atp[t.address],
        vsize: tx.vsize,
        tsize: tx.tsize,
        own: own
    });
    cov_265iwxlg08.s[25]++;
    return resIx;
}

function integrateNewTxs(newInfo, oldInfoUndeleted, lastBlock, deletedTxs, gap, wantedOffset) {
    cov_265iwxlg08.f[10]++;

    var addressToPath = (cov_265iwxlg08.s[26]++, deriveAddressToPath(newInfo.main.allAddresses, newInfo.change.allAddresses));

    var oldInfo = (cov_265iwxlg08.s[27]++, deletedTxs.length !== 0 ? (cov_265iwxlg08.b[4][0]++, deleteTxs(oldInfoUndeleted, deletedTxs, addressToPath)) : (cov_265iwxlg08.b[4][1]++, oldInfoUndeleted));

    var joined = (cov_265iwxlg08.s[28]++, deriveJoined(newInfo.main.newTransactions, newInfo.change.newTransactions));

    var utxos = (cov_265iwxlg08.s[29]++, (0, _deriveUtxos.deriveUtxos)(newInfo, oldInfo, addressToPath, joined));

    var transactions = (cov_265iwxlg08.s[30]++, (0, _deriveAnalysis.deriveAnalysis)(joined, oldInfo.transactions, addressToPath, lastBlock, wantedOffset));

    var _ref = (cov_265iwxlg08.s[31]++, deriveUsedAddresses(transactions, addressToPath, newInfo.main.allAddresses, 0, gap)),
        usedAddresses = _ref.usedAddresses,
        unusedAddresses = _ref.unusedAddresses,
        lastConfirmedMain = _ref.lastConfirmed;

    var usedChange = (cov_265iwxlg08.s[32]++, deriveUsedAddresses(transactions, addressToPath, newInfo.change.allAddresses, 1, gap));

    var balance = (cov_265iwxlg08.s[33]++, transactions.length > 0 ? (cov_265iwxlg08.b[5][0]++, transactions[0].balance) : (cov_265iwxlg08.b[5][1]++, 0));
    var utxoBalance = (cov_265iwxlg08.s[34]++, utxos.reduce(function (prev, a) {
        cov_265iwxlg08.f[11]++;
        cov_265iwxlg08.s[35]++;
        return a.value + prev;
    }, 0));
    cov_265iwxlg08.s[36]++;
    if (balance !== utxoBalance) {
        cov_265iwxlg08.b[6][0]++;
        cov_265iwxlg08.s[37]++;

        throw new Error('Inconsistent info.');
    } else {
        cov_265iwxlg08.b[6][1]++;
    }

    var sentAddresses = (cov_265iwxlg08.s[38]++, deriveSentAddresses(transactions));

    var changeAddresses = (cov_265iwxlg08.s[39]++, newInfo.change.allAddresses);
    var changeIndex = (cov_265iwxlg08.s[40]++, usedChange.usedAddresses.length);
    var allowChange = (cov_265iwxlg08.s[41]++, usedChange.unusedAddresses.length > 0);
    var lastConfirmedChange = (cov_265iwxlg08.s[42]++, usedChange.lastConfirmed);

    var state = (cov_265iwxlg08.s[43]++, {
        utxos: utxos,
        transactions: transactions,
        usedAddresses: usedAddresses,
        unusedAddresses: unusedAddresses,
        lastConfirmedMain: lastConfirmedMain,
        lastConfirmedChange: lastConfirmedChange,
        changeIndex: changeIndex,
        balance: balance,
        lastBlock: lastBlock,
        sentAddresses: sentAddresses,
        changeAddresses: changeAddresses,
        allowChange: allowChange,
        version: oldInfoUndeleted.version
    });
    cov_265iwxlg08.s[44]++;
    return state;
}

function deriveAddressToPath(main, change) {
    cov_265iwxlg08.f[12]++;

    var res = (cov_265iwxlg08.s[45]++, {});

    cov_265iwxlg08.s[46]++;
    main.forEach(function (a, i) {
        cov_265iwxlg08.f[13]++;
        cov_265iwxlg08.s[47]++;

        res[a] = [0, i];
    });
    cov_265iwxlg08.s[48]++;
    change.forEach(function (a, i) {
        cov_265iwxlg08.f[14]++;
        cov_265iwxlg08.s[49]++;

        res[a] = [1, i];
    });

    cov_265iwxlg08.s[50]++;
    return res;
}

function deriveJoined(main, change) {
    cov_265iwxlg08.f[15]++;

    var res = (cov_265iwxlg08.s[51]++, {});

    cov_265iwxlg08.s[52]++;
    Object.keys(main).forEach(function (id) {
        cov_265iwxlg08.f[16]++;
        cov_265iwxlg08.s[53]++;

        res[id] = main[id];
    });
    cov_265iwxlg08.s[54]++;
    Object.keys(change).forEach(function (id) {
        cov_265iwxlg08.f[17]++;
        cov_265iwxlg08.s[55]++;

        res[id] = change[id];
    });

    cov_265iwxlg08.s[56]++;
    return res;
}

function deriveSentAddresses(transactions) {
    cov_265iwxlg08.f[18]++;

    var res = (cov_265iwxlg08.s[57]++, {});
    cov_265iwxlg08.s[58]++;
    transactions.forEach(function (t) {
        cov_265iwxlg08.f[19]++;
        cov_265iwxlg08.s[59]++;

        if (t.type === 'sent') {
            cov_265iwxlg08.b[7][0]++;
            cov_265iwxlg08.s[60]++;

            t.targets.forEach(function (_ref2) {
                var address = _ref2.address,
                    i = _ref2.i;
                cov_265iwxlg08.f[20]++;

                var txId = (cov_265iwxlg08.s[61]++, t.hash);
                var key = (cov_265iwxlg08.s[62]++, txId + ':' + i);
                cov_265iwxlg08.s[63]++;
                res[key] = address;
            });
        } else {
            cov_265iwxlg08.b[7][1]++;
        }
    });
    cov_265iwxlg08.s[64]++;
    return res;
}

function deriveUsedAddresses(transactions, addressToPath, allAddresses, chain, gap) {
    cov_265iwxlg08.f[21]++;

    var allReceived = (cov_265iwxlg08.s[65]++, []);
    var lastUsed = (cov_265iwxlg08.s[66]++, -1);
    var lastConfirmed = (cov_265iwxlg08.s[67]++, -1);

    cov_265iwxlg08.s[68]++;
    transactions.forEach(function (t) {
        cov_265iwxlg08.f[22]++;
        cov_265iwxlg08.s[69]++;

        (0, _utils.objectValues)(t.myOutputs).forEach(function (o) {
            cov_265iwxlg08.f[23]++;

            var address = (cov_265iwxlg08.s[70]++, o.address);
            var value = (cov_265iwxlg08.s[71]++, o.value);
            var path = (cov_265iwxlg08.s[72]++, addressToPath[address]);
            cov_265iwxlg08.s[73]++;
            if (path[0] === chain) {
                cov_265iwxlg08.b[8][0]++;

                var id = (cov_265iwxlg08.s[74]++, path[1]);
                cov_265iwxlg08.s[75]++;
                if (allReceived[id] == null) {
                    cov_265iwxlg08.b[9][0]++;
                    cov_265iwxlg08.s[76]++;

                    allReceived[id] = value;
                } else {
                    cov_265iwxlg08.b[9][1]++;
                    cov_265iwxlg08.s[77]++;

                    allReceived[id] += value;
                }
                cov_265iwxlg08.s[78]++;
                if (lastUsed < id) {
                    cov_265iwxlg08.b[10][0]++;
                    cov_265iwxlg08.s[79]++;

                    lastUsed = id;
                } else {
                    cov_265iwxlg08.b[10][1]++;
                }
                cov_265iwxlg08.s[80]++;
                if (t.height != null) {
                    cov_265iwxlg08.b[11][0]++;
                    cov_265iwxlg08.s[81]++;

                    if (lastConfirmed < id) {
                        cov_265iwxlg08.b[12][0]++;
                        cov_265iwxlg08.s[82]++;

                        lastConfirmed = id;
                    } else {
                        cov_265iwxlg08.b[12][1]++;
                    }
                } else {
                    cov_265iwxlg08.b[11][1]++;
                }
            } else {
                cov_265iwxlg08.b[8][1]++;
            }
        });
    });

    var usedAddresses = (cov_265iwxlg08.s[83]++, []);
    cov_265iwxlg08.s[84]++;
    for (var i = 0; i <= lastUsed; i++) {
        var address = (cov_265iwxlg08.s[85]++, allAddresses[i]);
        var received = (cov_265iwxlg08.s[86]++, allReceived[i] == null ? (cov_265iwxlg08.b[13][0]++, 0) : (cov_265iwxlg08.b[13][1]++, allReceived[i]));
        cov_265iwxlg08.s[87]++;
        usedAddresses.push({ address: address, received: received });
    }
    var unusedAddresses = (cov_265iwxlg08.s[88]++, []);
    cov_265iwxlg08.s[89]++;
    for (var _i = lastUsed + 1; _i <= lastConfirmed + gap; _i++) {
        cov_265iwxlg08.s[90]++;

        unusedAddresses.push(allAddresses[_i]);
    }
    cov_265iwxlg08.s[91]++;
    return { usedAddresses: usedAddresses, unusedAddresses: unusedAddresses, lastConfirmed: lastConfirmed };
}