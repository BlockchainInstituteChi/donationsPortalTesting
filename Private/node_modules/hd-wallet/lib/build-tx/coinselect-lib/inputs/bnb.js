'use strict';

var cov_1plms5kpqz = function () {
    var path = '/home/g/dev/hd-wallet/src/build-tx/coinselect-lib/inputs/bnb.js',
        hash = '19822c9f14a706c1b145c8c2661738a3780da3ea',
        Function = function () {}.constructor,
        global = new Function('return this')(),
        gcv = '__coverage__',
        coverageData = {
        path: '/home/g/dev/hd-wallet/src/build-tx/coinselect-lib/inputs/bnb.js',
        statementMap: {
            '0': {
                start: {
                    line: 1,
                    column: 14
                },
                end: {
                    line: 1,
                    column: 33
                }
            },
            '1': {
                start: {
                    line: 3,
                    column: 17
                },
                end: {
                    line: 3,
                    column: 24
                }
            },
            '2': {
                start: {
                    line: 6,
                    column: 4
                },
                end: {
                    line: 20,
                    column: 7
                }
            },
            '3': {
                start: {
                    line: 7,
                    column: 8
                },
                end: {
                    line: 12,
                    column: 9
                }
            },
            '4': {
                start: {
                    line: 8,
                    column: 12
                },
                end: {
                    line: 11,
                    column: 14
                }
            },
            '5': {
                start: {
                    line: 14,
                    column: 29
                },
                end: {
                    line: 14,
                    column: 61
                }
            },
            '6': {
                start: {
                    line: 15,
                    column: 31
                },
                end: {
                    line: 15,
                    column: 56
                }
            },
            '7': {
                start: {
                    line: 16,
                    column: 8
                },
                end: {
                    line: 19,
                    column: 10
                }
            },
            '8': {
                start: {
                    line: 23,
                    column: 0
                },
                end: {
                    line: 70,
                    column: 2
                }
            },
            '9': {
                start: {
                    line: 24,
                    column: 4
                },
                end: {
                    line: 69,
                    column: 6
                }
            },
            '10': {
                start: {
                    line: 25,
                    column: 28
                },
                end: {
                    line: 25,
                    column: 47
                }
            },
            '11': {
                start: {
                    line: 26,
                    column: 35
                },
                end: {
                    line: 26,
                    column: 61
                }
            },
            '12': {
                start: {
                    line: 27,
                    column: 38
                },
                end: {
                    line: 27,
                    column: 59
                }
            },
            '13': {
                start: {
                    line: 29,
                    column: 8
                },
                end: {
                    line: 29,
                    column: 59
                }
            },
            '14': {
                start: {
                    line: 29,
                    column: 49
                },
                end: {
                    line: 29,
                    column: 59
                }
            },
            '15': {
                start: {
                    line: 31,
                    column: 36
                },
                end: {
                    line: 31,
                    column: 103
                }
            },
            '16': {
                start: {
                    line: 32,
                    column: 29
                },
                end: {
                    line: 32,
                    column: 88
                }
            },
            '17': {
                start: {
                    line: 33,
                    column: 29
                },
                end: {
                    line: 33,
                    column: 86
                }
            },
            '18': {
                start: {
                    line: 35,
                    column: 25
                },
                end: {
                    line: 35,
                    column: 96
                }
            },
            '19': {
                start: {
                    line: 37,
                    column: 8
                },
                end: {
                    line: 41,
                    column: 9
                }
            },
            '20': {
                start: {
                    line: 38,
                    column: 12
                },
                end: {
                    line: 40,
                    column: 14
                }
            },
            '21': {
                start: {
                    line: 43,
                    column: 31
                },
                end: {
                    line: 51,
                    column: 10
                }
            },
            '22': {
                start: {
                    line: 44,
                    column: 12
                },
                end: {
                    line: 44,
                    column: 40
                }
            },
            '23': {
                start: {
                    line: 46,
                    column: 12
                },
                end: {
                    line: 50,
                    column: 13
                }
            },
            '24': {
                start: {
                    line: 47,
                    column: 16
                },
                end: {
                    line: 47,
                    column: 59
                }
            },
            '25': {
                start: {
                    line: 49,
                    column: 16
                },
                end: {
                    line: 49,
                    column: 43
                }
            },
            '26': {
                start: {
                    line: 53,
                    column: 25
                },
                end: {
                    line: 53,
                    column: 71
                }
            },
            '27': {
                start: {
                    line: 54,
                    column: 8
                },
                end: {
                    line: 68,
                    column: 9
                }
            },
            '28': {
                start: {
                    line: 55,
                    column: 27
                },
                end: {
                    line: 55,
                    column: 29
                }
            },
            '29': {
                start: {
                    line: 57,
                    column: 12
                },
                end: {
                    line: 61,
                    column: 13
                }
            },
            '30': {
                start: {
                    line: 58,
                    column: 16
                },
                end: {
                    line: 60,
                    column: 17
                }
            },
            '31': {
                start: {
                    line: 59,
                    column: 20
                },
                end: {
                    line: 59,
                    column: 56
                }
            },
            '32': {
                start: {
                    line: 63,
                    column: 12
                },
                end: {
                    line: 63,
                    column: 116
                }
            },
            '33': {
                start: {
                    line: 65,
                    column: 12
                },
                end: {
                    line: 67,
                    column: 14
                }
            },
            '34': {
                start: {
                    line: 75,
                    column: 4
                },
                end: {
                    line: 77,
                    column: 5
                }
            },
            '35': {
                start: {
                    line: 76,
                    column: 8
                },
                end: {
                    line: 76,
                    column: 15
                }
            },
            '36': {
                start: {
                    line: 79,
                    column: 16
                },
                end: {
                    line: 79,
                    column: 24
                }
            },
            '37': {
                start: {
                    line: 81,
                    column: 21
                },
                end: {
                    line: 81,
                    column: 23
                }
            },
            '38': {
                start: {
                    line: 82,
                    column: 24
                },
                end: {
                    line: 82,
                    column: 25
                }
            },
            '39': {
                start: {
                    line: 84,
                    column: 15
                },
                end: {
                    line: 84,
                    column: 20
                }
            },
            '40': {
                start: {
                    line: 85,
                    column: 20
                },
                end: {
                    line: 85,
                    column: 25
                }
            },
            '41': {
                start: {
                    line: 87,
                    column: 20
                },
                end: {
                    line: 89,
                    column: 9
                }
            },
            '42': {
                start: {
                    line: 88,
                    column: 8
                },
                end: {
                    line: 88,
                    column: 36
                }
            },
            '43': {
                start: {
                    line: 91,
                    column: 16
                },
                end: {
                    line: 91,
                    column: 17
                }
            },
            '44': {
                start: {
                    line: 92,
                    column: 4
                },
                end: {
                    line: 139,
                    column: 5
                }
            },
            '45': {
                start: {
                    line: 93,
                    column: 8
                },
                end: {
                    line: 114,
                    column: 9
                }
            },
            '46': {
                start: {
                    line: 94,
                    column: 12
                },
                end: {
                    line: 94,
                    column: 19
                }
            },
            '47': {
                start: {
                    line: 95,
                    column: 15
                },
                end: {
                    line: 114,
                    column: 9
                }
            },
            '48': {
                start: {
                    line: 96,
                    column: 12
                },
                end: {
                    line: 96,
                    column: 29
                }
            },
            '49': {
                start: {
                    line: 97,
                    column: 15
                },
                end: {
                    line: 114,
                    column: 9
                }
            },
            '50': {
                start: {
                    line: 98,
                    column: 12
                },
                end: {
                    line: 98,
                    column: 24
                }
            },
            '51': {
                start: {
                    line: 99,
                    column: 15
                },
                end: {
                    line: 114,
                    column: 9
                }
            },
            '52': {
                start: {
                    line: 100,
                    column: 12
                },
                end: {
                    line: 100,
                    column: 29
                }
            },
            '53': {
                start: {
                    line: 101,
                    column: 15
                },
                end: {
                    line: 114,
                    column: 9
                }
            },
            '54': {
                start: {
                    line: 102,
                    column: 12
                },
                end: {
                    line: 106,
                    column: 13
                }
            },
            '55': {
                start: {
                    line: 103,
                    column: 16
                },
                end: {
                    line: 103,
                    column: 23
                }
            },
            '56': {
                start: {
                    line: 105,
                    column: 16
                },
                end: {
                    line: 105,
                    column: 33
                }
            },
            '57': {
                start: {
                    line: 109,
                    column: 12
                },
                end: {
                    line: 109,
                    column: 62
                }
            },
            '58': {
                start: {
                    line: 111,
                    column: 12
                },
                end: {
                    line: 111,
                    column: 35
                }
            },
            '59': {
                start: {
                    line: 112,
                    column: 12
                },
                end: {
                    line: 112,
                    column: 66
                }
            },
            '60': {
                start: {
                    line: 113,
                    column: 12
                },
                end: {
                    line: 113,
                    column: 20
                }
            },
            '61': {
                start: {
                    line: 117,
                    column: 8
                },
                end: {
                    line: 137,
                    column: 9
                }
            },
            '62': {
                start: {
                    line: 118,
                    column: 12
                },
                end: {
                    line: 118,
                    column: 30
                }
            },
            '63': {
                start: {
                    line: 119,
                    column: 12
                },
                end: {
                    line: 119,
                    column: 20
                }
            },
            '64': {
                start: {
                    line: 122,
                    column: 12
                },
                end: {
                    line: 131,
                    column: 13
                }
            },
            '65': {
                start: {
                    line: 123,
                    column: 16
                },
                end: {
                    line: 123,
                    column: 66
                }
            },
            '66': {
                start: {
                    line: 126,
                    column: 16
                },
                end: {
                    line: 126,
                    column: 24
                }
            },
            '67': {
                start: {
                    line: 128,
                    column: 16
                },
                end: {
                    line: 130,
                    column: 17
                }
            },
            '68': {
                start: {
                    line: 129,
                    column: 20
                },
                end: {
                    line: 129,
                    column: 27
                }
            },
            '69': {
                start: {
                    line: 134,
                    column: 12
                },
                end: {
                    line: 134,
                    column: 36
                }
            },
            '70': {
                start: {
                    line: 135,
                    column: 12
                },
                end: {
                    line: 135,
                    column: 66
                }
            },
            '71': {
                start: {
                    line: 136,
                    column: 12
                },
                end: {
                    line: 136,
                    column: 20
                }
            },
            '72': {
                start: {
                    line: 138,
                    column: 8
                },
                end: {
                    line: 138,
                    column: 16
                }
            },
            '73': {
                start: {
                    line: 141,
                    column: 4
                },
                end: {
                    line: 141,
                    column: 20
                }
            }
        },
        fnMap: {
            '0': {
                name: 'calculateEffectiveValues',
                decl: {
                    start: {
                        line: 5,
                        column: 9
                    },
                    end: {
                        line: 5,
                        column: 33
                    }
                },
                loc: {
                    start: {
                        line: 5,
                        column: 50
                    },
                    end: {
                        line: 21,
                        column: 1
                    }
                },
                line: 5
            },
            '1': {
                name: '(anonymous_1)',
                decl: {
                    start: {
                        line: 6,
                        column: 21
                    },
                    end: {
                        line: 6,
                        column: 22
                    }
                },
                loc: {
                    start: {
                        line: 6,
                        column: 37
                    },
                    end: {
                        line: 20,
                        column: 5
                    }
                },
                line: 6
            },
            '2': {
                name: 'branchAndBound',
                decl: {
                    start: {
                        line: 23,
                        column: 26
                    },
                    end: {
                        line: 23,
                        column: 40
                    }
                },
                loc: {
                    start: {
                        line: 23,
                        column: 49
                    },
                    end: {
                        line: 70,
                        column: 1
                    }
                },
                line: 23
            },
            '3': {
                name: '(anonymous_3)',
                decl: {
                    start: {
                        line: 24,
                        column: 11
                    },
                    end: {
                        line: 24,
                        column: 12
                    }
                },
                loc: {
                    start: {
                        line: 24,
                        column: 55
                    },
                    end: {
                        line: 69,
                        column: 5
                    }
                },
                line: 24
            },
            '4': {
                name: '(anonymous_4)',
                decl: {
                    start: {
                        line: 43,
                        column: 79
                    },
                    end: {
                        line: 43,
                        column: 80
                    }
                },
                loc: {
                    start: {
                        line: 43,
                        column: 92
                    },
                    end: {
                        line: 45,
                        column: 9
                    }
                },
                line: 43
            },
            '5': {
                name: '(anonymous_5)',
                decl: {
                    start: {
                        line: 45,
                        column: 16
                    },
                    end: {
                        line: 45,
                        column: 17
                    }
                },
                loc: {
                    start: {
                        line: 45,
                        column: 32
                    },
                    end: {
                        line: 51,
                        column: 9
                    }
                },
                line: 45
            },
            '6': {
                name: 'search',
                decl: {
                    start: {
                        line: 74,
                        column: 9
                    },
                    end: {
                        line: 74,
                        column: 15
                    }
                },
                loc: {
                    start: {
                        line: 74,
                        column: 54
                    },
                    end: {
                        line: 142,
                        column: 1
                    }
                },
                line: 74
            },
            '7': {
                name: '(anonymous_7)',
                decl: {
                    start: {
                        line: 87,
                        column: 42
                    },
                    end: {
                        line: 87,
                        column: 43
                    }
                },
                loc: {
                    start: {
                        line: 87,
                        column: 58
                    },
                    end: {
                        line: 89,
                        column: 5
                    }
                },
                line: 87
            }
        },
        branchMap: {
            '0': {
                loc: {
                    start: {
                        line: 7,
                        column: 8
                    },
                    end: {
                        line: 12,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 7,
                        column: 8
                    },
                    end: {
                        line: 12,
                        column: 9
                    }
                }, {
                    start: {
                        line: 7,
                        column: 8
                    },
                    end: {
                        line: 12,
                        column: 9
                    }
                }],
                line: 7
            },
            '1': {
                loc: {
                    start: {
                        line: 29,
                        column: 8
                    },
                    end: {
                        line: 29,
                        column: 59
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 29,
                        column: 8
                    },
                    end: {
                        line: 29,
                        column: 59
                    }
                }, {
                    start: {
                        line: 29,
                        column: 8
                    },
                    end: {
                        line: 29,
                        column: 59
                    }
                }],
                line: 29
            },
            '2': {
                loc: {
                    start: {
                        line: 37,
                        column: 8
                    },
                    end: {
                        line: 41,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 37,
                        column: 8
                    },
                    end: {
                        line: 41,
                        column: 9
                    }
                }, {
                    start: {
                        line: 37,
                        column: 8
                    },
                    end: {
                        line: 41,
                        column: 9
                    }
                }],
                line: 37
            },
            '3': {
                loc: {
                    start: {
                        line: 46,
                        column: 12
                    },
                    end: {
                        line: 50,
                        column: 13
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 46,
                        column: 12
                    },
                    end: {
                        line: 50,
                        column: 13
                    }
                }, {
                    start: {
                        line: 46,
                        column: 12
                    },
                    end: {
                        line: 50,
                        column: 13
                    }
                }],
                line: 46
            },
            '4': {
                loc: {
                    start: {
                        line: 54,
                        column: 8
                    },
                    end: {
                        line: 68,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 54,
                        column: 8
                    },
                    end: {
                        line: 68,
                        column: 9
                    }
                }, {
                    start: {
                        line: 54,
                        column: 8
                    },
                    end: {
                        line: 68,
                        column: 9
                    }
                }],
                line: 54
            },
            '5': {
                loc: {
                    start: {
                        line: 58,
                        column: 16
                    },
                    end: {
                        line: 60,
                        column: 17
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 58,
                        column: 16
                    },
                    end: {
                        line: 60,
                        column: 17
                    }
                }, {
                    start: {
                        line: 58,
                        column: 16
                    },
                    end: {
                        line: 60,
                        column: 17
                    }
                }],
                line: 58
            },
            '6': {
                loc: {
                    start: {
                        line: 75,
                        column: 4
                    },
                    end: {
                        line: 77,
                        column: 5
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 75,
                        column: 4
                    },
                    end: {
                        line: 77,
                        column: 5
                    }
                }, {
                    start: {
                        line: 75,
                        column: 4
                    },
                    end: {
                        line: 77,
                        column: 5
                    }
                }],
                line: 75
            },
            '7': {
                loc: {
                    start: {
                        line: 93,
                        column: 8
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 93,
                        column: 8
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                }, {
                    start: {
                        line: 93,
                        column: 8
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                }],
                line: 93
            },
            '8': {
                loc: {
                    start: {
                        line: 95,
                        column: 15
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 95,
                        column: 15
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                }, {
                    start: {
                        line: 95,
                        column: 15
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                }],
                line: 95
            },
            '9': {
                loc: {
                    start: {
                        line: 97,
                        column: 15
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 97,
                        column: 15
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                }, {
                    start: {
                        line: 97,
                        column: 15
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                }],
                line: 97
            },
            '10': {
                loc: {
                    start: {
                        line: 99,
                        column: 15
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 99,
                        column: 15
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                }, {
                    start: {
                        line: 99,
                        column: 15
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                }],
                line: 99
            },
            '11': {
                loc: {
                    start: {
                        line: 101,
                        column: 15
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 101,
                        column: 15
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                }, {
                    start: {
                        line: 101,
                        column: 15
                    },
                    end: {
                        line: 114,
                        column: 9
                    }
                }],
                line: 101
            },
            '12': {
                loc: {
                    start: {
                        line: 102,
                        column: 12
                    },
                    end: {
                        line: 106,
                        column: 13
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 102,
                        column: 12
                    },
                    end: {
                        line: 106,
                        column: 13
                    }
                }, {
                    start: {
                        line: 102,
                        column: 12
                    },
                    end: {
                        line: 106,
                        column: 13
                    }
                }],
                line: 102
            },
            '13': {
                loc: {
                    start: {
                        line: 117,
                        column: 8
                    },
                    end: {
                        line: 137,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 117,
                        column: 8
                    },
                    end: {
                        line: 137,
                        column: 9
                    }
                }, {
                    start: {
                        line: 117,
                        column: 8
                    },
                    end: {
                        line: 137,
                        column: 9
                    }
                }],
                line: 117
            },
            '14': {
                loc: {
                    start: {
                        line: 128,
                        column: 16
                    },
                    end: {
                        line: 130,
                        column: 17
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 128,
                        column: 16
                    },
                    end: {
                        line: 130,
                        column: 17
                    }
                }, {
                    start: {
                        line: 128,
                        column: 16
                    },
                    end: {
                        line: 130,
                        column: 17
                    }
                }],
                line: 128
            }
        },
        s: {
            '0': 0,
            '1': 0,
            '2': 0,
            '3': 0,
            '4': 0,
            '5': 0,
            '6': 0,
            '7': 0,
            '8': 0,
            '9': 0,
            '10': 0,
            '11': 0,
            '12': 0,
            '13': 0,
            '14': 0,
            '15': 0,
            '16': 0,
            '17': 0,
            '18': 0,
            '19': 0,
            '20': 0,
            '21': 0,
            '22': 0,
            '23': 0,
            '24': 0,
            '25': 0,
            '26': 0,
            '27': 0,
            '28': 0,
            '29': 0,
            '30': 0,
            '31': 0,
            '32': 0,
            '33': 0,
            '34': 0,
            '35': 0,
            '36': 0,
            '37': 0,
            '38': 0,
            '39': 0,
            '40': 0,
            '41': 0,
            '42': 0,
            '43': 0,
            '44': 0,
            '45': 0,
            '46': 0,
            '47': 0,
            '48': 0,
            '49': 0,
            '50': 0,
            '51': 0,
            '52': 0,
            '53': 0,
            '54': 0,
            '55': 0,
            '56': 0,
            '57': 0,
            '58': 0,
            '59': 0,
            '60': 0,
            '61': 0,
            '62': 0,
            '63': 0,
            '64': 0,
            '65': 0,
            '66': 0,
            '67': 0,
            '68': 0,
            '69': 0,
            '70': 0,
            '71': 0,
            '72': 0,
            '73': 0
        },
        f: {
            '0': 0,
            '1': 0,
            '2': 0,
            '3': 0,
            '4': 0,
            '5': 0,
            '6': 0,
            '7': 0
        },
        b: {
            '0': [0, 0],
            '1': [0, 0],
            '2': [0, 0],
            '3': [0, 0],
            '4': [0, 0],
            '5': [0, 0],
            '6': [0, 0],
            '7': [0, 0],
            '8': [0, 0],
            '9': [0, 0],
            '10': [0, 0],
            '11': [0, 0],
            '12': [0, 0],
            '13': [0, 0],
            '14': [0, 0]
        },
        _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
    },
        coverage = global[gcv] || (global[gcv] = {});

    if (coverage[path] && coverage[path].hash === hash) {
        return coverage[path];
    }

    coverageData.hash = hash;
    return coverage[path] = coverageData;
}();

var utils = (cov_1plms5kpqz.s[0]++, require('../utils'));

var maxTries = (cov_1plms5kpqz.s[1]++, 1000000);

function calculateEffectiveValues(utxos, feeRate) {
    cov_1plms5kpqz.f[0]++;
    cov_1plms5kpqz.s[2]++;

    return utxos.map(function (utxo) {
        cov_1plms5kpqz.f[1]++;
        cov_1plms5kpqz.s[3]++;

        if (isNaN(utils.uintOrNaN(utxo.value))) {
            cov_1plms5kpqz.b[0][0]++;
            cov_1plms5kpqz.s[4]++;

            return {
                utxo: utxo,
                effectiveValue: 0
            };
        } else {
            cov_1plms5kpqz.b[0][1]++;
        }

        var effectiveFee = (cov_1plms5kpqz.s[5]++, utils.inputBytes(utxo) * feeRate);
        var effectiveValue = (cov_1plms5kpqz.s[6]++, utxo.value - effectiveFee);
        cov_1plms5kpqz.s[7]++;
        return {
            utxo: utxo,
            effectiveValue: effectiveValue
        };
    });
}

cov_1plms5kpqz.s[8]++;
module.exports = function branchAndBound(factor) {
    cov_1plms5kpqz.f[2]++;
    cov_1plms5kpqz.s[9]++;

    return function (utxos, outputs, feeRate, options) {
        cov_1plms5kpqz.f[3]++;

        var inputLength = (cov_1plms5kpqz.s[10]++, options.inputLength);
        var changeOutputLength = (cov_1plms5kpqz.s[11]++, options.changeOutputLength);
        var explicitDustThreshold = (cov_1plms5kpqz.s[12]++, options.dustThreshold);

        cov_1plms5kpqz.s[13]++;
        if (!isFinite(utils.uintOrNaN(feeRate))) {
                cov_1plms5kpqz.b[1][0]++;
                cov_1plms5kpqz.s[14]++;
                return {};
            } else {
            cov_1plms5kpqz.b[1][1]++;
        }var costPerChangeOutput = (cov_1plms5kpqz.s[15]++, utils.outputBytes({ script: { length: changeOutputLength } }) * feeRate);
        var costPerInput = (cov_1plms5kpqz.s[16]++, utils.inputBytes({ script: { length: inputLength } }) * feeRate);
        var costOfChange = (cov_1plms5kpqz.s[17]++, Math.floor((costPerInput + costPerChangeOutput) * factor));

        var outAccum = (cov_1plms5kpqz.s[18]++, utils.sumOrNaN(outputs) + utils.transactionBytes([], outputs) * feeRate);

        cov_1plms5kpqz.s[19]++;
        if (isNaN(outAccum)) {
            cov_1plms5kpqz.b[2][0]++;
            cov_1plms5kpqz.s[20]++;

            return {
                fee: 0
            };
        } else {
            cov_1plms5kpqz.b[2][1]++;
        }

        var effectiveUtxos = (cov_1plms5kpqz.s[21]++, calculateEffectiveValues(utxos, feeRate).filter(function (x) {
            cov_1plms5kpqz.f[4]++;
            cov_1plms5kpqz.s[22]++;

            return x.effectiveValue > 0;
        }).sort(function (a, b) {
            cov_1plms5kpqz.f[5]++;
            cov_1plms5kpqz.s[23]++;

            if (b.effectiveValue - a.effectiveValue !== 0) {
                cov_1plms5kpqz.b[3][0]++;
                cov_1plms5kpqz.s[24]++;

                return b.effectiveValue - a.effectiveValue;
            } else {
                cov_1plms5kpqz.b[3][1]++;
                cov_1plms5kpqz.s[25]++;

                return a.utxo.i - b.utxo.i;
            }
        }));

        var selected = (cov_1plms5kpqz.s[26]++, search(effectiveUtxos, outAccum, costOfChange));
        cov_1plms5kpqz.s[27]++;
        if (selected != null) {
            cov_1plms5kpqz.b[4][0]++;

            var inputs = (cov_1plms5kpqz.s[28]++, []);

            cov_1plms5kpqz.s[29]++;
            for (var i = 0; i < effectiveUtxos.length; i++) {
                cov_1plms5kpqz.s[30]++;

                if (selected[i]) {
                    cov_1plms5kpqz.b[5][0]++;
                    cov_1plms5kpqz.s[31]++;

                    inputs.push(effectiveUtxos[i].utxo);
                } else {
                    cov_1plms5kpqz.b[5][1]++;
                }
            }

            cov_1plms5kpqz.s[32]++;
            return utils.finalize(inputs, outputs, feeRate, inputLength, changeOutputLength, explicitDustThreshold);
        } else {
            cov_1plms5kpqz.b[4][1]++;
            cov_1plms5kpqz.s[33]++;

            return {
                fee: 0
            };
        }
    };
};

// Depth first search
// Inclusion branch first (Largest First Exploration), then exclusion branch
function search(effectiveUtxos, target, costOfChange) {
    cov_1plms5kpqz.f[6]++;
    cov_1plms5kpqz.s[34]++;

    if (effectiveUtxos.length === 0) {
        cov_1plms5kpqz.b[6][0]++;
        cov_1plms5kpqz.s[35]++;

        return;
    } else {
        cov_1plms5kpqz.b[6][1]++;
    }

    var tries = (cov_1plms5kpqz.s[36]++, maxTries);

    var selected = (cov_1plms5kpqz.s[37]++, []); // true -> select the utxo at this index
    var selectedAccum = (cov_1plms5kpqz.s[38]++, 0); // sum of effective values

    var done = (cov_1plms5kpqz.s[39]++, false);
    var backtrack = (cov_1plms5kpqz.s[40]++, false);

    var remaining = (cov_1plms5kpqz.s[41]++, effectiveUtxos.reduce(function (a, x) {
        cov_1plms5kpqz.f[7]++;
        cov_1plms5kpqz.s[42]++;

        return a + x.effectiveValue;
    }, 0));

    var depth = (cov_1plms5kpqz.s[43]++, 0);
    cov_1plms5kpqz.s[44]++;
    while (!done) {
        cov_1plms5kpqz.s[45]++;

        if (tries <= 0) {
            cov_1plms5kpqz.b[7][0]++;
            cov_1plms5kpqz.s[46]++;
            // Too many tries, exit
            return;
        } else {
                cov_1plms5kpqz.b[7][1]++;
                cov_1plms5kpqz.s[47]++;
                if (selectedAccum > target + costOfChange) {
                    cov_1plms5kpqz.b[8][0]++;
                    cov_1plms5kpqz.s[48]++;
                    // Selected value is out of range, go back and try other branch
                    backtrack = true;
                } else {
                        cov_1plms5kpqz.b[8][1]++;
                        cov_1plms5kpqz.s[49]++;
                        if (selectedAccum >= target) {
                            cov_1plms5kpqz.b[9][0]++;
                            cov_1plms5kpqz.s[50]++;
                            // Selected value is within range
                            done = true;
                        } else {
                                cov_1plms5kpqz.b[9][1]++;
                                cov_1plms5kpqz.s[51]++;
                                if (depth >= effectiveUtxos.length) {
                                    cov_1plms5kpqz.b[10][0]++;
                                    cov_1plms5kpqz.s[52]++;
                                    // Reached a leaf node, no solution here
                                    backtrack = true;
                                } else {
                                        cov_1plms5kpqz.b[10][1]++;
                                        cov_1plms5kpqz.s[53]++;
                                        if (selectedAccum + remaining < target) {
                                            cov_1plms5kpqz.b[11][0]++;
                                            cov_1plms5kpqz.s[54]++;
                                            // Cannot possibly reach target with amount remaining
                                            if (depth === 0) {
                                                cov_1plms5kpqz.b[12][0]++;
                                                cov_1plms5kpqz.s[55]++;
                                                // At the first utxo, no possible selections, so exit
                                                return;
                                            } else {
                                                cov_1plms5kpqz.b[12][1]++;
                                                cov_1plms5kpqz.s[56]++;

                                                backtrack = true;
                                            }
                                        } else {
                                            cov_1plms5kpqz.b[11][1]++;
                                            cov_1plms5kpqz.s[57]++;
                                            // Continue down this branch
                                            // Remove this utxo from the remaining utxo amount
                                            remaining -= effectiveUtxos[depth].effectiveValue;
                                            // Inclusion branch first (Largest First Exploration)
                                            cov_1plms5kpqz.s[58]++;
                                            selected[depth] = true;
                                            cov_1plms5kpqz.s[59]++;
                                            selectedAccum += effectiveUtxos[depth].effectiveValue;
                                            cov_1plms5kpqz.s[60]++;
                                            depth++;
                                        }
                                    }
                            }
                    }
            } // Step back to the previous utxo and try the other branch
        cov_1plms5kpqz.s[61]++;
        if (backtrack) {
            cov_1plms5kpqz.b[13][0]++;
            cov_1plms5kpqz.s[62]++;

            backtrack = false; // Reset
            cov_1plms5kpqz.s[63]++;
            depth--;

            // Walk backwards to find the first utxo which has not has its second branch traversed
            cov_1plms5kpqz.s[64]++;
            while (!selected[depth]) {
                cov_1plms5kpqz.s[65]++;

                remaining += effectiveUtxos[depth].effectiveValue;

                // Step back one
                cov_1plms5kpqz.s[66]++;
                depth--;

                cov_1plms5kpqz.s[67]++;
                if (depth < 0) {
                    cov_1plms5kpqz.b[14][0]++;
                    cov_1plms5kpqz.s[68]++;
                    // We have walked back to the first utxo and no branch is untraversed. No solution, exit.
                    return;
                } else {
                    cov_1plms5kpqz.b[14][1]++;
                }
            }

            // Now traverse the second branch of the utxo we have arrived at.
            cov_1plms5kpqz.s[69]++;
            selected[depth] = false;
            cov_1plms5kpqz.s[70]++;
            selectedAccum -= effectiveUtxos[depth].effectiveValue;
            cov_1plms5kpqz.s[71]++;
            depth++;
        } else {
            cov_1plms5kpqz.b[13][1]++;
        }
        cov_1plms5kpqz.s[72]++;
        tries--;
    }

    cov_1plms5kpqz.s[73]++;
    return selected;
}