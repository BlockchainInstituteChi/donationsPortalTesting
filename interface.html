<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- <link rel="icon" href="../../../../favicon.ico"> -->
    <!-- Angular Components  -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/0.8.0/angularfire.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.0.3/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.0.1/firebase-app.js"></script>
    <link rel='stylesheet' id='cryptocoins-css'  href='./css/cryptocoins.css'> 
    <link rel='stylesheet' id='custom-css'  href='./css/style.css'> 


    <script src="https://www.gstatic.com/firebasejs/5.0.3/firebase-functions.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.0.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.0.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.0.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.0.1/firebase-messaging.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script src="https://rawgit.com/VividCortex/angular-recaptcha/master/release/angular-recaptcha.js"></script>
    <script type="text/javascript" src="scripts/qrcode.js"></script>


  </head>

  <body ng-app="donationsManager">

    <div class="container" ng-controller="donationsCtrl">

        <div class="currencySelect {{display[0]}}">
            <h1>Select a currency below to get started</h1>
            <p class="selectedCurrency">Currency: {{currency}}</p>
            <input class="form-control" class="container-fluid" type="text" placeholder="search for anything you like" id="search" ng-model="searchBarText" ng-keyup="search();"><hr>
                <div ng-repeat="x in set" class="currencySelectButton">
                    <button class="radioSet currencySelect {{x.selected}}" ng-click="setCurrency(x.code)">
                        <br>
                        <i class="cc {{x.code}}"></i>
                        <h3>{{x.name}}<br>({{x.code}})</h3>
                    </button>
                </div>
            <br>           
            <button class="nextBtn" type="next" ng-click="next('1', checkCurrencyChoice)">Next</button>
        </div>

        <div class="taxReceipt {{display[1]}}">
            <h1>Would you like to receive a tax receipt for your donation?</h1>
            <br>
            <p class="errorMessage">{{errorMessage}}</p>
            <fieldset class="taxReceiptSelector">
                <input type="checkbox" id="taxReceiptCheckBox" ng-model="taxReceipt" checked>
                <label for="taxReceiptCheckBox"> I would like a tax receipt</label><br>
                <input type="text" class="emailInput" id="taxReceiptEmail" ng-model="email" placeholder="email (optional)">
            </fieldset>    
            <hr>
            <p>A tax receipt can be issued for any donation of more than $50. Tax receipts are valid in the US only. Please <a href="/contact-us">contact us</a> for more information.</p><br>
            
            <br>
            <button class="nextBtn" type="next" ng-click="back('2')">Back</button> 
            <button class="nextBtn" type="next" ng-click="next('2', checkTaxReceiptChoice)">Next</button> 
        </div>

        <div class="reCaptcha {{display[2]}}">
            <h1>Please verify that you're human:</h1>
            <div
                vc-recaptcha
                theme="'light'"
                key="key"
                on-create="setWidgetId(widgetId)"
                on-success="setResponse(response)"
                on-expire="cbExpiration()"
            ></div>

            <br>            
            <button class="nextBtn" type="next" ng-click="back('3')">Back</button> 
            <button class="nextBtn" type="next" ng-click="next('3', checkCaptcha)">Next</button>           
        </div>

        <div class="qrcode {{display[3]}}">
            <h1> Scan the QR Code below to donate your funds:</h1>
            <canvas id="qrCode">
            </canvas>
            <hr>
            <div class="donationAmount">
                {{donationAmount}} in {{donationCurrency}}
            </div> 
            <br>
            <p>Address: {{address}}</p>
            <button class="nextBtn" type="next" ng-click="back('4')">Back</button> 
            <button class="nextBtn" type="next" ng-click="next('4')">Next</button> 

        </div>

        <div class="thanks {{display[4]}}">
            <h1>Thanks for your contribution.</h1>
            <p>Your donation helps keep the institute strong. Our team couldn't do it without you! <br> If you selected the option to receive a tax receipt, please stay posted and you should receive an email from a member of our staff shortly.</p>
            
            <br>

            <button class="nextBtn" type="next" ng-click="done()" >Done</button> 
        </div>        

    </div>
  </body>


  <footer>
          <script type="text/javascript" src="donationCtrl.js" defer></script>
  </footer>